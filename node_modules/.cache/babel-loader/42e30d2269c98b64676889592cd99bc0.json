{"ast":null,"code":"var _jsxFileName = \"/Users/Stephanie/Desktop/student_profiles/src/containers/App.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { setSearchField, setSearchTagField, requestStudents, updateStudentsData, filterStudentsData } from '../redux/actions';\nimport SearchBox from '../components/searchbox/SearchBox';\nimport Scroll from '../components/scroll/Scroll';\nimport ErrorBoundry from '../components/error-boundry/ErrorBoundry';\nimport StudentList from '../components/student-list/StudentList';\nimport './App.css';\n\nconst mapStateToProps = state => {\n  return {\n    searchField: state.searchStudents.searchField,\n    searchTagField: state.searchTags.searchTagField,\n    students: state.requestStudents.students,\n    isPending: state.requestStudents.isPending,\n    updatedStudents: state.updateStudentsData.updatedStudents,\n    filteredStudents: state.filterStudentsData.filteredStudents\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSearchChange: event => dispatch(setSearchField(event.target.value)),\n    onSearchTagChange: event => dispatch(setSearchTagField(event.target.value)),\n    onRequestStudents: () => dispatch(requestStudents()),\n    onUpdateStudents: data => dispatch(updateStudentsData(data)),\n    onFilterStudents: data => dispatch(filterStudentsData(data))\n  };\n};\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onRequestStudents();\n  }\n\n  render() {\n    const {\n      searchField,\n      searchTagField,\n      students,\n      isPending,\n      updatedStudents,\n      filteredStudents\n    } = this.props;\n    const {\n      onSearchChange,\n      onSearchTagChange,\n      onUpdateStudents,\n      onFilterStudents\n    } = this.props;\n    onUpdateStudents(students);\n    const filteredFirstName = updatedStudents.filter(student => {\n      return student.firstName.toLowerCase().includes(searchField.toLowerCase());\n    });\n    const filteredLastName = updatedStudents.filter(student => {\n      return student.lastName.toLowerCase().includes(searchField.toLowerCase());\n    });\n    const filteredByTag = updatedStudents.filter(student => {\n      if (student.tags.length > 0) {\n        return student.tags.includes(searchTagField);\n      }\n    });\n    const filteredByName = [...new Set([...filteredFirstName, ...filteredLastName])];\n    const combined = filteredStudents.concat(filteredByTag);\n    let intersection = [];\n    let result = {};\n\n    if (filteredStudents !== [] && filteredByTag !== []) {\n      combined.forEach(function (item) {\n        result[JSON.stringify(item)] = result[JSON.stringify(item)] ? result[JSON.stringify(item)] + 1 : 1;\n      });\n\n      for (let [key, value] of Object.entries(result)) {\n        if (value > 1) {\n          intersection.push(JSON.parse(key));\n        }\n\n        ;\n      }\n\n      ;\n      console.log(intersection);\n    }\n\n    if (searchField === '' && searchTagField !== '') {\n      onFilterStudents(filteredByTag);\n    } else if (searchField !== '' && searchTagField === '') {\n      onFilterStudents(filteredByName);\n    } else {\n      onFilterStudents(intersection);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBox, {\n      id: \"name-input\",\n      searchChange: onSearchChange,\n      placeholder: \"Search by name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(SearchBox, {\n      id: \"tag-input\",\n      searchChange: onSearchTagChange,\n      placeholder: \"Search by tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Scroll, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, isPending ? /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, \"Loading\") : /*#__PURE__*/React.createElement(ErrorBoundry, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(StudentList, {\n      studentsinfo: filteredStudents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/Stephanie/Desktop/student_profiles/src/containers/App.jsx"],"names":["React","Component","connect","setSearchField","setSearchTagField","requestStudents","updateStudentsData","filterStudentsData","SearchBox","Scroll","ErrorBoundry","StudentList","mapStateToProps","state","searchField","searchStudents","searchTagField","searchTags","students","isPending","updatedStudents","filteredStudents","mapDispatchToProps","dispatch","onSearchChange","event","target","value","onSearchTagChange","onRequestStudents","onUpdateStudents","data","onFilterStudents","App","componentDidMount","props","render","filteredFirstName","filter","student","firstName","toLowerCase","includes","filteredLastName","lastName","filteredByTag","tags","length","filteredByName","Set","combined","concat","intersection","result","forEach","item","JSON","stringify","key","Object","entries","push","parse","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { setSearchField, setSearchTagField, requestStudents, updateStudentsData, filterStudentsData } from '../redux/actions';\n\nimport SearchBox from '../components/searchbox/SearchBox';\nimport Scroll from '../components/scroll/Scroll';\nimport ErrorBoundry from '../components/error-boundry/ErrorBoundry';\nimport StudentList from '../components/student-list/StudentList';\n\nimport './App.css';\n\nconst mapStateToProps = (state) => {\n  return {\n    searchField: state.searchStudents.searchField,\n    searchTagField: state.searchTags.searchTagField,\n    students: state.requestStudents.students,\n    isPending: state.requestStudents.isPending,\n    updatedStudents: state.updateStudentsData.updatedStudents,\n    filteredStudents: state.filterStudentsData.filteredStudents\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSearchChange: (event) => dispatch(setSearchField(event.target.value)),\n    onSearchTagChange: (event) => dispatch(setSearchTagField(event.target.value)),\n    onRequestStudents: () => dispatch(requestStudents()),\n    onUpdateStudents: (data) => dispatch(updateStudentsData(data)),\n    onFilterStudents: (data) => dispatch(filterStudentsData(data))\n  }\n}\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onRequestStudents();\n  }\n\n  render() {\n    const { searchField, searchTagField, students, isPending, updatedStudents, filteredStudents } = this.props;\n    const { onSearchChange, onSearchTagChange, onUpdateStudents, onFilterStudents } = this.props;\n    onUpdateStudents(students);\n    const filteredFirstName = updatedStudents.filter(student => {\n      return student.firstName.toLowerCase().includes(searchField.toLowerCase());\n    });\n    const filteredLastName = updatedStudents.filter(student => {\n      return student.lastName.toLowerCase().includes(searchField.toLowerCase());\n    });\n    const filteredByTag = updatedStudents.filter(student => {\n      if (student.tags.length > 0) {\n        return student.tags.includes(searchTagField);\n      }\n    });\n    const filteredByName = [...new Set([...filteredFirstName,...filteredLastName])];\n\n    const combined = filteredStudents.concat(filteredByTag);\n    let intersection = [];\n    let result = {};\n    if (filteredStudents !== [] && filteredByTag !== []) {\n      combined.forEach(function(item) {\n        result[JSON.stringify(item)] = result[JSON.stringify(item)] ? result[JSON.stringify(item)] + 1 : 1;\n      });\n      for (let [key, value] of Object.entries(result)) {\n        if (value > 1) {\n          intersection.push(JSON.parse(key));\n        };\n      };\n      console.log(intersection)\n    }\n    \n    if (searchField === '' && searchTagField !== '') {\n      onFilterStudents(filteredByTag);\n    } else if (searchField !== '' && searchTagField === ''){\n      onFilterStudents(filteredByName);\n    }\n    else {\n      onFilterStudents(intersection);\n    }\n\n    return (\n      <div className=\"tc main-container\">\n        <SearchBox id=\"name-input\" searchChange={onSearchChange} placeholder={\"Search by name\"}/>\n        <SearchBox id=\"tag-input\" searchChange={onSearchTagChange} placeholder={\"Search by tag\"}/>\n        <Scroll>\n          { isPending ? <h1>Loading</h1> :\n            <ErrorBoundry>\n              <StudentList studentsinfo={filteredStudents} />\n            </ErrorBoundry>\n          }\n        </Scroll>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}